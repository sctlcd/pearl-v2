{% extends "base_extension.html" %}
{% load static %}

{% block extra_title %}
- Edit Product
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'products/css/products.css' %}">
{% endblock %}

{% block page_header %}
<div class="container header-container">
	<div class="row">
		<div class="col"></div>
	</div>
</div>
{% endblock %}

{% block content %}
<div class="overlay"></div>
<div class="container edit-product-container">
	<div class="row">
		<div class="col-12 col-md-6 text-center mb-5" style="margin:0 auto">
			<hr>
			<h2 class="logo-font mb-4">Product Management</h2>
			<h5 class="text-muted">Edit a Product</h5>
			<hr>
		</div>
	</div>

	<div class="row">
		<div class="col-10 offset-1 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-6 offset-xl-3" style="margin:0 auto">
			<form method="POST" action="{% url 'edit_product' product.id %}" id="edit-product-form" class="form mb-2" enctype="multipart/form-data" class="needs-validation" novalidate>
				{% csrf_token %}
				{{ product_form | crispy }}
				<div class="text-center pt-5">
					<a class="btn btn-outline-elegant btn-lg" href="{% url 'product_detail' product.id %}">Cancel</a>
					<button class="btn btn-elegant btn-lg" type="submit">Edit Product</button>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock %}

{% block page_bottom %}
<div class="container bottom-container">
	<div class="row">
		<div class="col"></div>
	</div>
</div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
<script type="text/javascript">
	$('#new-image').change(function() {
		var file = $('#new-image')[0].files[0];
		$('#filename').text(`Image will be set to: ${file.name}`);
	});
</script>
<!-- <script src="{% static 'products/js/products.js' %}" type="text/javascript"></script> -->
{% endblock %}
